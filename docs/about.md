## Описание идеи

Создать агрегатор автомобильных аукционов. Аналог https://www.caroutlet.eu/.

Мы только проксируем чужие системы, сами принимать автомобили для продажи не принимаются.

> Как продавец и покупатель связываются друг с другом?

Покупатель и продавец не связываются друг с другом. Мы являемся посредником между ними, обеспечиваем проведение сделки, оплату и доставку авто до места выдачи.

> Как оформляется сделка купли-продажи?

После уточнения деталей (необходимые документы, страна назначения, способ доставки и пр.) пользователю выставляется счёт, который должен оплатить в определённый срок (1-2 дня). После этого оплата авто производится с промежуточного европейского счёта.

Покупатель может находится в России или Беларуси. Он выбирает место доставки из списка и страну назначения. Статус заказа отображается в системе, некоторые статусы присваиваются автоматически, некоторые (например, статус доставки) выставляется менеджером вручную.

## MVP

Реализовывать весь функционал сразу не требуется. Сложные фичи можно запускать через менеджера и после этого уже автоматизировать.

Сначала нужно получить в одном месте информацию с различных аукционов, выполнять поиск по авто и быстро переходить к оригинальным торгам.

Ставки пользователей сначала будут являтся условными. Пользователь делает их только на нашем сайте. На аукцион-донор их переносит менеджер. После окончания аукциона даётся 3 дня на подтверждение покупки. За это время торги завершаются. Итог торгов переносится на наш сайт. 

## Источники данных, взаимодействие с их API

Каждый аукцион подключается отдельно. Cписок источников:

- https://www.kvd.se/
- https://www.adesa.eu/
- https://www.blocket.se/
- ...

Нужно спарсить данные (с сайта или через API) и обновлять их по расписанию. На первом этапе весь контент парсится с web-страниц. API подключается там, где есть на втором этапе.

Если аукцион имеет API, то ставка на нашем сайте должна автоматически срабатывать на аукционе-доноре.

> Какие фичи, в общих чертах, предлагает АПИ?

Список новых лотов, информация по лоту, список ставок? Какие фичи общие для всех источников данных, а какие уникальные? Сейчас можно только гадать. Основная сложность - обновление информации по ставкам.

Полученные данные нужно автоматически перевести с языка оригинала. Это стандартные формулировки.

## Хранение данных

### Необходимые сущности

- автомобиль
- пользователь системы
- участник торгов (возможно, это просто статус пользоватля?)
- депозит
- лот (возможно, это просто статус авто?)
- счёт
- заказ ? (лот + счета + оплаты + статусы доставки)
- администратор (с различным уровнем доступа: без ограничений, менеджерский и пр.)
- доставка

### Атрибуты сущностей

#### Автомобиль

- Галерея с фото
- Первая регистрация
- Марка
- Тип двигателя
- Год выпуска
- Тип КПП
- Объём двигателя
- Пробег
- Страна происхождения
- Мощность
- Тип кузова
- Количество дверей
- Количество мест
- Комплектациях
- ...

После завершения аукциона автомобиль переносится в архив и снимается с показа.

#### Пользователь системы

- id
- дата регистрации
- имя
- фамилия
- телефон
- e-mail
- баланс
- статус верификации

#### Участник торгов

#### Депозит

- хз

#### Лот

- ставка
- статус (ставка перебита, ставка сработала, ожидает согласия продавца, ставка принята)

#### Счёт

- file
- сумма
- статус (оплачен, ожидает оплаты, отменён, просрочен)

#### Доставка

- адрес

#### Заказ

- участник торгов
- лот
- счета
- статус доставки

#### Администратор

- id
- дата регистрации
- имя
- фамилия
- телефон
- e-mail
- уровень доступа (админ, менеджер)

## Синхронизация

Необходимо отслеживать события:

- добавление новых авто
- обновление авто (снижение цены)
- добавление ставок
- завершение торгов
- повторные торги (если сделка не состоялась, авто может быть выставлено повторно)
- удаление/продажа авто

## UI

Какие функции должны быть предоставлены?

- регистрация
- вход/выход
- редактирование профиля
- смена пароля
- верификация
- просмотр каталога авто
- фильтр:
    - марка
    - тип двигателя
    - год выпуска
    - тип КПП
    - объём двигателя
    - пробег
    - страна происхождения
- посмотреть список лотов со ставками пользователя
- просмотреть список покупок
- сделать ставку
- управление уведомлениями о событиях

Пользователь регистрируется, указывает свои паспортные данные и загружает скан паспорта. Это влияет на уровень доступа к содержимому и функционалу сайта. Уровень пользователя повышается менеджером после ручной проверки данных. После этого пользователь видит всю информацию по лоту и может делать ставки. Ставки делаются с баланса. Для внесения депозита нужно оплатить счёт и загрузить документ в профиле.

Доступные разделы:

- Избранное
- Список ставок
- Список покупок

## UI для администраторов

- войти
- посмотреть список авто без ограничений
- поиск по авто
- посмотреть список пользователей
- найти пользователя
- сменить статус (верифицирован/неверифицирован)
- забанить/разбанить
- выставить счёт
- сменить статус счёта

Менеджер может иметь доступ в закрытый раздел. В нём выводится вся информация, без ограничений, в том числе сслыки на страницы-доноры. Это нужно для того, чтобы вручную оперативно сделать ставку.
